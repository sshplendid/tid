# OKKYCON 2018

세션 순서
  * [테스트하기 쉬운 코드로 개발하기 / 정진욱]()
  * [의식적인 연습으로 TDD, 리팩토링 연습하기 / 박재성]()

## 테스트하기 쉬운 코드로 개발하기

정진욱(https://jwchung.github.io/testing-oh-my)

  * TDD
    * 테스트를 통과하는 수준의 코드만 작성
    * 점진적 접근방법
  * Mock 사용 문제점
    * Mock을 남발할 가능성이 있음
      * 예제 코드가 간단함
    * Mock의 수를 결정하기가 힘듬

### Summary

  * 테스트하기 쉬운 코드?
    * 항상 같은 결과 반환 (Functional?)
    * 외부 상태를 변경하지 않음
  * 테스하기 쉬운 코드로 개발하기
    * 테스트하기 쉬운 코드와 어려운 코드 분리
    * 두 부류의 코드는 어디서 만나야 하나?
      * 테스트하기 어려운 코드는 최대한 가장 자리에 위치 (예외: 로깅, 퍼사드))
    * 두 부류 코드가 만나는 코드는 어떻게 테스트 해야하나?
      * 가장 자리를 테스트하는 방법을 익히자
        * 수동
        * 자동: 상태검증/행위검증 (Classist/Mockist)

### Q&A
  * `private` 메서드에 대한 테스트는 어떻게 해야하는지?
    * 먼저 메서드 공개 범위에 대한 고민이 필요
  * 캐릭터라이제이션 테스트 언급

## 의식적인 연습으로 TDD, 리팩토링 연습하기

  * 스피커: 박재성(자바지기)

  * TDD? 일단 단위테스트 연습부터
    * 내가 사용하는 API 사용법을 익히기 위한 학습 테스트에서 시작
    * Input/Output이 명확한 클래스 메솓(ex. Util)에 대한 단위테스트 연습
    * 알고리즘 구현에 대한 검증을 단위 테스트로
  * 리팩토링 연습
    * 메소드 분리
      * 들여쓰기는 1단계만 허용한다. 더 들어가는 경우는 메소드 분리를 고려해라
      * `else`를 쓰지 마라? => js 스타일 빠른 리턴
    * 원시값, 컬렉션을 래핑한다.
    * 3개 이상의 필드를 가진 클래스를 쓰지 않는다. => 단일책임원칙에 의해 클래스 분리 고려
  * 한 단계 더 나아간 연습....
    * 컴파일 에러를 발생시키지 않는 리팩토링
    * End-to-End 테스트
    * 레거시 애플리케이션에 테스트 코드 추가해서 리팩토링하기

### Summary

## 테스트를 돌보기 위한 간단한 실천 방법, 효과

양완수(쿠팡)

  * 고통스러운 테스트
    * 숨겨진 본질
      * 낮은 추상화
      * 들쭉날쭉한 추상화: 어떤 부분은 추상화가 높고, 다른 부분은 낮고 ...
      * 끊어진 논리
      * 알 수 없는 의도
    * 욕심쟁이 => SRP
      * 테스트가 실패하는 이유는 단 하나여아만 함
      * 하나의 테스트는 오직 한 가지만 똑바로 검사해야 함
    * 인지능력의 과부화
      * 흩어진 코드와 데이터
      * 매직넘버
    * 깨지기 쉬운 것들
      * 높은 결합 => Loose coupling
      * 낮은 응집
  * Summary
    * 테스트는
      * 과정
      * 수련
      * 스승
      * 제품
      * 거울
    * 테스트를
      * 억지로 먼저 하지 마라
      * 건강하게 해라
      * 두려워하지 마라
      * 즐거워해라
    * 추상화는 어렵지만 중요하다

## 당신들의 TDD가 실패하는 이유 (Live Coding)

이규원(오마이트립)